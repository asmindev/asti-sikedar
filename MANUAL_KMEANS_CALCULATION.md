# 📊 Perhitungan Manual K-Means Clustering

## Data Sample (5 Pegawai)

Mari kita gunakan data sample untuk memahami K-Means secara manual:

### Data Points (Skor Rata-rata KAB - Skala 1-7)

| Pegawai | Knowledge (K) | Attitude (A) | Behavior (B) |
| ------- | ------------- | ------------ | ------------ |
| P1      | 5.86          | 5.71         | 5.86         |
| P2      | 4.86          | 4.71         | 4.86         |
| P3      | 3.86          | 3.71         | 3.86         |
| P4      | 6.71          | 6.57         | 6.71         |
| P5      | 2.86          | 2.71         | 2.86         |

### Step 1: Hitung Skor KAB (Preprocessing)

**Formula:** `score = (total nilai) / 7`

**Detail perhitungan untuk setiap pegawai:**

**P1:**

- K: (6+5+6+7+6+5+6)/7 = 41/7 = **5.86**
- A: (5+6+5+6+7+5+6)/7 = 40/7 = **5.71**
- B: (6+6+5+7+6+6+5)/7 = 41/7 = **5.86**

**P2:**

- K: (5+4+5+6+5+4+5)/7 = 34/7 = **4.86**
- A: (4+5+4+5+6+4+5)/7 = 33/7 = **4.71**
- B: (5+5+4+6+5+5+4)/7 = 34/7 = **4.86**

**P3:**

- K: (4+3+4+5+4+3+4)/7 = 27/7 = **3.86**
- A: (3+4+3+4+5+3+4)/7 = 26/7 = **3.71**
- B: (4+4+3+5+4+4+3)/7 = 27/7 = **3.86**

**P4:**

- K: (7+6+7+7+7+6+7)/7 = 47/7 = **6.71**
- A: (6+7+6+7+7+6+7)/7 = 46/7 = **6.57**
- B: (7+7+6+7+7+7+6)/7 = 47/7 = **6.71**

**P5:**

- K: (3+2+3+4+3+2+3)/7 = 20/7 = **2.86**
- A: (2+3+2+3+4+2+3)/7 = 19/7 = **2.71**
- B: (3+3+2+4+3+3+2)/7 = 20/7 = **2.86**

| Pegawai | Knowledge (K) | Attitude (A) | Behavior (B) |
| ------- | ------------- | ------------ | ------------ |
| P1      | 5.86          | 5.71         | 5.86         |
| P2      | 4.86          | 4.71         | 4.86         |
| P3      | 3.86          | 3.71         | 3.86         |
| P4      | 6.71          | 6.57         | 6.71         |
| P5      | 2.86          | 2.71         | 2.86         |

### Step 3: Centroid Awal (Manual dari Dokumen)

```
C1 = [4.71, 4.71, 4.86]  // Cluster 1
C2 = [4.71, 4.43, 4.71]  // Cluster 2
C3 = [4.29, 4.14, 4.14]  // Cluster 3
```

### Step 4: Iterasi 1 - Hitung Jarak Euclidean

**Formula:** `d = √[(K₁-K₂)² + (A₁-A₂)² + (B₁-B₂)²]`

#### P1 [5.86, 5.71, 5.86]:

```
d_C1 = √[(5.86-4.71)² + (5.71-4.71)² + (5.86-4.86)²]
     = √[(1.15)² + (1.00)² + (1.00)²]
     = √[1.3225 + 1.0000 + 1.0000] = √3.3225 = 1.82

d_C2 = √[(5.86-4.71)² + (5.71-4.43)² + (5.86-4.71)²]
     = √[(1.15)² + (1.28)² + (1.15)²]
     = √[1.3225 + 1.6384 + 1.3225] = √4.2834 = 2.07

d_C3 = √[(5.86-4.29)² + (5.71-4.14)² + (5.86-4.14)²]
     = √[(1.57)² + (1.57)² + (1.72)²]
     = √[2.4649 + 2.4649 + 2.9584] = √7.8882 = 2.81

→ P1 masuk **C1** (jarak terkecil = 1.82)
```

#### P2 [4.86, 4.71, 4.86]:

```
d_C1 = √[(4.86-4.71)² + (4.71-4.71)² + (4.86-4.86)²]
     = √[(0.15)² + (0.00)² + (0.00)²] = √0.0225 = 0.15

d_C2 = √[(4.86-4.71)² + (4.71-4.43)² + (4.86-4.71)²]
     = √[(0.15)² + (0.28)² + (0.15)²]
     = √[0.0225 + 0.0784 + 0.0225] = √0.1234 = 0.35

d_C3 = √[(4.86-4.29)² + (4.71-4.14)² + (4.86-4.14)²]
     = √[(0.57)² + (0.57)² + (0.72)²]
     = √[0.3249 + 0.3249 + 0.5184] = √1.1682 = 1.08

→ P2 masuk **C1** (jarak terkecil = 0.15)
```

#### P3 [3.86, 3.71, 3.86]:

```
d_C1 = √[(3.86-4.71)² + (3.71-4.71)² + (3.86-4.86)²]
     = √[(-0.85)² + (-1.00)² + (-1.00)²]
     = √[0.7225 + 1.0000 + 1.0000] = √2.7225 = 1.65

d_C2 = √[(3.86-4.71)² + (3.71-4.43)² + (3.86-4.71)²]
     = √[(-0.85)² + (-0.72)² + (-0.85)²]
     = √[0.7225 + 0.5184 + 0.7225] = √1.9634 = 1.40

d_C3 = √[(3.86-4.29)² + (3.71-4.14)² + (3.86-4.14)²]
     = √[(-0.43)² + (-0.43)² + (-0.28)²]
     = √[0.1849 + 0.1849 + 0.0784] = √0.4482 = 0.67

→ P3 masuk **C3** (jarak terkecil = 0.67)
```

#### P4 [6.71, 6.57, 6.71]:

```
d_C1 = √[(6.71-4.71)² + (6.57-4.71)² + (6.71-4.86)²]
     = √[(2.00)² + (1.86)² + (1.85)²]
     = √[4.0000 + 3.4596 + 3.4225] = √10.8821 = 3.30

d_C2 = √[(6.71-4.71)² + (6.57-4.43)² + (6.71-4.71)²]
     = √[(2.00)² + (2.14)² + (2.00)²]
     = √[4.0000 + 4.5796 + 4.0000] = √12.5796 = 3.55

d_C3 = √[(6.71-4.29)² + (6.57-4.14)² + (6.71-4.14)²]
     = √[(2.42)² + (2.43)² + (2.57)²]
     = √[5.8564 + 5.9049 + 6.6049] = √18.3662 = 4.29

→ P4 masuk **C1** (jarak terkecil = 3.30)
```

#### P5 [2.86, 2.71, 2.86]:

```
d_C1 = √[(2.86-4.71)² + (2.71-4.71)² + (2.86-4.86)²]
     = √[(-1.85)² + (-2.00)² + (-2.00)²]
     = √[3.4225 + 4.0000 + 4.0000] = √11.4225 = 3.38

d_C2 = √[(2.86-4.71)² + (2.71-4.43)² + (2.86-4.71)²]
     = √[(-1.85)² + (-1.72)² + (-1.85)²]
     = √[3.4225 + 2.9584 + 3.4225] = √9.8034 = 3.13

d_C3 = √[(2.86-4.29)² + (2.71-4.14)² + (2.86-4.14)²]
     = √[(-1.43)² + (-1.43)² + (-1.28)²]
     = √[2.0449 + 2.0449 + 1.6384] = √5.7282 = 2.39

→ P5 masuk **C3** (jarak terkecil = 2.39)
```

### Step 5: Hasil Clustering Iterasi 1

| Pegawai | Cluster | Jarak ke C1 | Jarak ke C2 | Jarak ke C3 |
| ------- | ------- | ----------- | ----------- | ----------- |
| P1      | C1      | 1.82        | 2.07        | 2.81        |
| P2      | C1      | 0.15        | 0.35        | 1.08        |
| P3      | C3      | 1.65        | 1.40        | 0.67        |
| P4      | C1      | 3.30        | 3.55        | 4.29        |
| P5      | C3      | 3.38        | 3.13        | 2.39        |

**Komposisi Cluster:**

- **C1:** P1, P2, P4 (3 pegawai)
- **C2:** - (0 pegawai)
- **C3:** P3, P5 (2 pegawai)

### Step 6: Hitung Centroid Baru

**C1 Baru (dari P1, P2, P4):**

```
K_baru = (5.86 + 4.86 + 6.71) / 3 = 17.43 / 3 = 5.81
A_baru = (5.71 + 4.71 + 6.57) / 3 = 16.99 / 3 = 5.66
B_baru = (5.86 + 4.86 + 6.71) / 3 = 17.43 / 3 = 5.81

C1_baru = [5.81, 5.66, 5.81]
```

**C2 Baru (0 pegawai - tetap sama):**

```
C2_baru = [4.71, 4.43, 4.71]  // Tidak berubah
```

**C3 Baru (dari P3, P5):**

```
K_baru = (3.86 + 2.86) / 2 = 6.72 / 2 = 3.36
A_baru = (3.71 + 2.71) / 2 = 6.42 / 2 = 3.21
B_baru = (3.86 + 2.86) / 2 = 6.72 / 2 = 3.36

C3_baru = [3.36, 3.21, 3.36]
```

### Step 7: Iterasi 2 - Dengan Centroid Baru

**Centroid untuk Iterasi 2:**

```
C1 = [5.81, 5.66, 5.81]
C2 = [4.71, 4.43, 4.71]  // Tetap sama
C3 = [3.36, 3.21, 3.36]
```

#### P1 [5.86, 5.71, 5.86]:

```
d_C1 = √[(5.86-5.81)² + (5.71-5.66)² + (5.86-5.81)²]
     = √[(0.05)² + (0.05)² + (0.05)²] = √0.0075 = 0.09

d_C2 = √[(5.86-4.71)² + (5.71-4.43)² + (5.86-4.71)²]
     = √[(1.15)² + (1.28)² + (1.15)²] = √4.2834 = 2.07

d_C3 = √[(5.86-3.36)² + (5.71-3.21)² + (5.86-3.36)²]
     = √[(2.50)² + (2.50)² + (2.50)²] = √18.75 = 4.33

→ P1 tetap di **C1** (jarak = 0.09)
```

#### P2 [4.86, 4.71, 4.86]:

```
d_C1 = √[(4.86-5.81)² + (4.71-5.66)² + (4.86-5.81)²]
     = √[(-0.95)² + (-0.95)² + (-0.95)²] = √2.7225 = 1.65

d_C2 = √[(4.86-4.71)² + (4.71-4.43)² + (4.86-4.71)²]
     = √[0.0225 + 0.0784 + 0.0225] = √0.1234 = 0.35

d_C3 = √[(4.86-3.36)² + (4.71-3.21)² + (4.86-3.36)²]
     = √[(1.50)² + (1.50)² + (1.50)²] = √6.75 = 2.60

→ P2 pindah ke **C2** (jarak = 0.35)
```

#### P3 [3.86, 3.71, 3.86]:

```
d_C1 = √[(3.86-5.81)² + (3.71-5.66)² + (3.86-5.81)²]
     = √[(-2.00)² + (-1.95)² + (-2.00)²] = √12.8025 = 3.58

d_C2 = √[(3.86-4.71)² + (3.71-4.43)² + (3.86-4.71)²]
     = √[(-0.85)² + (-0.72)² + (-0.85)²] = √1.9634 = 1.40

d_C3 = √[(3.86-3.36)² + (3.71-3.21)² + (3.86-3.36)²]
     = √[(0.50)² + (0.50)² + (0.50)²] = √0.75 = 0.87

→ P3 tetap di **C3** (jarak = 0.87)
```

#### P4 [6.71, 6.57, 6.71]:

```
d_C1 = √[(6.71-5.81)² + (6.57-5.66)² + (6.71-5.81)²]
     = √[(0.90)² + (0.91)² + (0.90)²] = √2.449 = 1.57

d_C2 = √[(6.71-4.71)² + (6.57-4.43)² + (6.71-4.71)²]
     = √[4.00 + 4.58 + 4.00] = √12.58 = 3.55

d_C3 = √[(6.71-3.36)² + (6.57-3.21)² + (6.71-3.36)²]
     = √[(3.35)² + (3.36)² + (3.35)²] = √33.64 = 5.80

→ P4 tetap di **C1** (jarak = 1.57)
```

#### P5 [2.86, 2.71, 2.86]:

```
d_C1 = √[(2.86-5.81)² + (2.71-5.66)² + (2.86-5.81)²]
     = √[(-2.95)² + (-2.95)² + (-2.95)²] = √26.1225 = 5.11

d_C2 = √[(2.86-4.71)² + (2.71-4.43)² + (2.86-4.71)²]
     = √[(-1.85)² + (-1.72)² + (-1.85)²] = √9.8034 = 3.13

d_C3 = √[(2.86-3.36)² + (2.71-3.21)² + (2.86-3.36)²]
     = √[(-0.50)² + (-0.50)² + (-0.50)²] = √0.75 = 0.87

→ P5 tetap di **C3** (jarak = 0.87)
```

### Step 8: Hasil Akhir Clustering

| Pegawai | Cluster Final | Jarak ke C1 | Jarak ke C2 | Jarak ke C3 |
| ------- | ------------- | ----------- | ----------- | ----------- |
| P1      | C1            | 0.09        | 2.07        | 4.33        |
| P2      | C2            | 1.65        | 0.35        | 2.60        |
| P3      | C3            | 3.58        | 1.40        | 0.87        |
| P4      | C1            | 1.57        | 3.55        | 5.80        |
| P5      | C3            | 5.11        | 3.13        | 0.87        |

**Centroid Final:**

```
C1 = [5.81, 5.66, 5.81]  // High performers
C2 = [4.86, 4.71, 4.86]  // Medium performers (hanya P2)
C3 = [3.36, 3.21, 3.36]  // Low performers
```

### Step 9: Labeling Berdasarkan Rata-rata

**Hitung rata-rata setiap cluster:**

- C1: (5.81 + 5.66 + 5.81) / 3 = 16.28 / 3 = **5.43**
- C2: (4.86 + 4.71 + 4.86) / 3 = 14.43 / 3 = **4.81**
- C3: (3.36 + 3.21 + 3.36) / 3 = 9.93 / 3 = **3.31**

**Urutan dari terendah ke tertinggi:**

1. C3 (3.31) → **C3 (Low)**
2. C2 (4.81) → **C2 (Medium)**
3. C1 (5.43) → **C1 (High)**

### Kesimpulan Manual Calculation:

✅ **Algoritma K-Means bekerja dengan benar:**

- Data preprocessing: Skor KAB dihitung dari rata-rata kuesioner
- Euclidean distance: Digunakan untuk mengukur kedekatan
- Iterasi: Centroid diperbarui hingga stabil
- Labeling: Berdasarkan rata-rata skor cluster

✅ **Hasil clustering masuk akal:**

- **C1 (High):** P1, P4 - Pegawai dengan skor tertinggi
- **C2 (Medium):** P2 - Pegawai dengan skor sedang
- **C3 (Low):** P3, P5 - Pegawai dengan skor terendah

✅ **Centroid berkembang sesuai data:**

- Dari centroid awal manual → centroid final yang mencerminkan karakteristik cluster

---

*Dibuat pada: October 15, 2025*
*Untuk memahami algoritma K-Means secara manual*
